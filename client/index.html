<!doctype html>
<html>
  <head>
    <title>Random Drawing Entry Form</title>
    <style>
      * { margin: 0; padding: 0; box-sizing: border-box; }
      form { margin: 4em auto; }
      input { width: 80%; margin: 0.5em 10%; font-size: 2em; }
      input[type=submit] { background: rgb(130, 224, 255); border: 1px solid rgb(130, 224, 255); padding: 1em 2em; }
      input[type=submit]:hover { background: rgb(100, 204, 235); border: 1px solid rgb(130, 130, 130); cursor: pointer; }
    </style>
  </head>
  <body>
    <form action=''>
      <input type='text' id='name' placeholder='My name is...'><br>
      <input type='submit' id='submit' value='Choose Me!' disabled='disabled'>
    </form>

    <p id='result'></p>

    <script src="socket.io.js"></script>
    <script>
      (function() {
        var socket = io(),
            btn = document.querySelector('#submit');

        socket.on('connect', function() {
          console.log('Connected to the server!', socket.id);
          btn.disabled = '';
        });

        socket.on('entered', function() {
          console.log('You were entered!');
          btn.disabled = 'disabled';
        });

        document.querySelector('form').addEventListener('submit', function(e) {
          e.preventDefault();

          socket.emit('enter', document.querySelector('#name').value || 'anon');

          return false;
        });
      })();
    </script>

  </body>
</html>
